require 'holidays/errors'

module Holidays
  module Definition
    module Generator
      class Module
        def call(files, module_name, regions, month_strings, custom_methods)
          module_src = ""

          module_src =<<-EOM
# encoding: utf-8
module Holidays
  # This file is generated by the Ruby Holidays gem.
  #
  # Definitions loaded: #{files.join(', ')}
  #
  # All the definitions are available at https://github.com/holidays/holidays
  module #{module_name.to_s.upcase} # :nodoc:
    def self.defined_regions
      [:#{regions.join(', :')}]
    end

    def self.holidays_by_month
      {
          #{month_strings.join(",\n")}
      }
    end

    def self.custom_methods
      {
          #{custom_methods}
      }
    end
  end
end
          EOM

          return module_src
        end
      end
    end
  end
end
